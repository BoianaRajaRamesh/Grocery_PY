{% load static %}
<html lang="en">
{% include 'header_links.html' %}

<!-- Body Start -->
<body>
<!-- Skeleton loader Start -->
<div class="skeleton-loader">
    <!--Main Start -->
    <div class="main-wrap catagories-wide mb-xxl">
        <!-- Search Box Start -->
        <div class="search-box">
            <input class="form-control" type="search" disabled/>
        </div>
        <!-- Search Box End -->

        <!-- Catagories Section Start -->
        <div class="section-p-t">
            <div class="catagories-wrap">
                <!-- Catagories Filter Start -->
                <div
                        class="nav"
                        id="catagories-tab-sk"
                        role="tablist"
                        aria-orientation="vertical"
                >
                    <div
                            class="nav-link"
                            id="catagories1-tab-sk"
                            data-bs-toggle="pill"
                            data-bs-target="#catagories1-sk"
                            role="tab"
                            aria-controls="catagories1-sk"
                            aria-selected="true"
                    >
                        <div class="content">
                            <div class="img"></div>
                            <span class="font-xs title-color sk-1"></span>
                            <span class="font-xs title-color sk-2"></span>
                        </div>
                    </div>

                    <div
                            class="nav-link active"
                            id="catagories2-tab-sk"
                            data-bs-toggle="pill"
                            data-bs-target="#catagories2"
                            role="tab"
                            aria-controls="catagories2"
                            aria-selected="false"
                    >
                        <div class="content">
                            <div class="img"></div>
                            <span class="font-xs title-color sk-1"></span>
                            <span class="font-xs title-color sk-2"></span>
                        </div>
                    </div>

                    <div
                            class="nav-link"
                            id="catagories3-tab-sk"
                            data-bs-toggle="pill"
                            data-bs-target="#catagories3"
                            role="tab"
                            aria-controls="catagories3"
                            aria-selected="false"
                    >
                        <div class="content">
                            <div class="img"></div>
                            <span class="font-xs title-color sk-1"></span>
                            <span class="font-xs title-color sk-2"></span>
                        </div>
                    </div>

                    <div
                            class="nav-link"
                            id="catagories4-tab-sk"
                            data-bs-toggle="pill"
                            data-bs-target="#catagories4"
                            role="tab"
                            aria-controls="catagories4"
                            aria-selected="false"
                    >
                        <div class="content">
                            <div class="img"></div>
                            <span class="font-xs title-color sk-1"></span>
                            <span class="font-xs title-color sk-2"></span>
                        </div>
                    </div>

                    <div
                            class="nav-link"
                            id="catagories5-tab-sk"
                            data-bs-toggle="pill"
                            data-bs-target="#catagories5"
                            role="tab"
                            aria-controls="catagories5"
                            aria-selected="false"
                    >
                        <div class="content">
                            <div class="img"></div>
                            <span class="font-xs title-color sk-1"></span>
                            <span class="font-xs title-color sk-2"></span>
                        </div>
                    </div>

                    <div
                            class="nav-link"
                            id="catagories6-tab-sk"
                            data-bs-toggle="pill"
                            data-bs-target="#catagories6"
                            role="tab"
                            aria-controls="catagories6"
                            aria-selected="false"
                    >
                        <div class="content">
                            <div class="img"></div>
                            <span class="font-xs title-color sk-1"></span>
                            <span class="font-xs title-color sk-2"></span>
                        </div>
                    </div>
                </div>
                <!-- Catagories Filter End -->

                <!-- Catagories Content Start -->
                <div class="tab-content ratio2_1" id="catagories-tab-skContent">
                    <div
                            class="tab-pane fade show active"
                            id="catagories1-sk"
                            role="tabpanel"
                            aria-labelledby="catagories1-sk"
                    >
                        <div class="banner-box">
                            <img
                                    src="{% static 'images/banner/catagories-banner.jpg' %}"
                                    alt="banner"
                                    class="bg-img"
                            />
                            <div class="content-box">
                                <h2 class="title-color heading">Season’s exotic Fruits</h2>
                                <p class="content-color font-sm">Upto 20% OFF</p>
                                <a href="javascript:void(0)" class="btn-solid">Shop Now</a>
                            </div>
                        </div>

                        <div class="row g-3">
                            <!-- Staples Box Start -->
                            <div class="col-4">
                                <a href="javascript:void(0)">
                                    <div class="staples-box">
                                        <div>
                                            <img
                                                    class="img-fluid"
                                                    src="{% static 'images/product/vegitables.png' %}"
                                                    alt="vegi"
                                            />
                                        </div>
                                        <h4>Vegetables</h4>
                                    </div>
                                </a>
                            </div>
                            <!-- Staples Box End -->

                            <!-- Staples Box Start -->
                            <div class="col-4">
                                <a href="javascript:void(0)">
                                    <div class="staples-box">
                                        <div>
                                            <img
                                                    class="img-fluid"
                                                    src="{% static 'images/product/fruits.png' %}"
                                                    alt="fruits"
                                            />
                                        </div>
                                        <h4>Fruits</h4>
                                    </div>
                                </a>
                            </div>
                            <!-- Staples Box End -->

                            <!-- Staples Box Start -->
                            <div class="col-4">
                                <a href="javascript:void(0)">
                                    <div class="staples-box">
                                        <div>
                                            <img
                                                    class="img-fluid"
                                                    src="{% static 'images/product/herbs.png' %}"
                                                    alt=" herbs"
                                            />
                                        </div>
                                        <h4>Herbs</h4>
                                    </div>
                                </a>
                            </div>
                            <!-- Staples Box End -->

                            <!-- Staples Box Start -->
                            <div class="col-4">
                                <a href="javascript:void(0)">
                                    <div class="staples-box">
                                        <div>
                                            <img
                                                    class="img-fluid"
                                                    src="{% static 'images/product/seasonings.png' %}"
                                                    alt="seasonings"
                                            />
                                        </div>
                                        <h4>Seasonings</h4>
                                    </div>
                                </a>
                            </div>
                            <!-- Staples Box End -->

                            <!-- Staples Box Start -->
                            <div class="col-4">
                                <a href="javascript:void(0)">
                                    <div class="staples-box">
                                        <div>
                                            <img
                                                    class="img-fluid"
                                                    src="{% static 'images/product/sprouts.png' %}"
                                                    alt="sprouts"
                                            />
                                        </div>
                                        <h4>Sprouts</h4>
                                    </div>
                                </a>
                            </div>
                            <!-- Staples Box End -->

                            <!-- Staples Box Start -->
                            <div class="col-4">
                                <a href="javascript:void(0)">
                                    <div class="staples-box">
                                        <div>
                                            <img
                                                    class="img-fluid"
                                                    src="{% static 'images/product/flowers.png' %}"
                                                    alt="flowers"
                                            />
                                        </div>
                                        <h4>Flowers</h4>
                                    </div>
                                </a>
                            </div>
                            <!-- Staples Box End -->

                            <!-- Staples Box Start -->
                            <div class="col-4">
                                <a href="javascript:void(0)">
                                    <div class="staples-box">
                                        <div>
                                            <img
                                                    class="img-fluid"
                                                    src="{% static 'images/product/exotic.png' %}"
                                                    alt="exotic"
                                            />
                                        </div>
                                        <h4>Exotic</h4>
                                    </div>
                                </a>
                            </div>
                            <!-- Staples Box End -->

                            <!-- Staples Box Start -->
                            <div class="col-4">
                                <a href="javascript:void(0)">
                                    <div class="staples-box">
                                        <div>
                                            <img
                                                    class="img-fluid"
                                                    src="{% static 'images/product/organic.png' %}"
                                                    alt="organic"
                                            />
                                        </div>
                                        <h4>Organic</h4>
                                    </div>
                                </a>
                            </div>
                            <!-- Staples Box End -->

                            <!-- Staples Box Start -->
                            <div class="col-4">
                                <a href="javascript:void(0)">
                                    <div class="staples-box">
                                        <div>
                                            <img
                                                    class="img-fluid"
                                                    src="{% static 'images/product/cuts.png' %}"
                                                    alt="cut"
                                            />
                                        </div>
                                        <h4>Cuts Fruits</h4>
                                    </div>
                                </a>
                            </div>
                            <!-- Staples Box End -->

                            <!-- Staples Box Start -->
                            <div class="col-4">
                                <a href="javascript:void(0)">
                                    <div class="staples-box">
                                        <div>
                                            <img
                                                    class="img-fluid"
                                                    src="{% static 'images/product/bouquets.png' %}"
                                                    alt="bouquets"
                                            />
                                        </div>
                                        <h4>Bouquets</h4>
                                    </div>
                                </a>
                            </div>
                            <!-- Staples Box End -->

                            <!-- Staples Box Start -->
                            <div class="col-4">
                                <a href="javascript:void(0)">
                                    <div class="staples-box">
                                        <div>
                                            <img
                                                    class="img-fluid"
                                                    src="{% static 'images/product/fruits.png' %}"
                                                    alt="fruits"
                                            />
                                        </div>
                                        <h4>Fruits</h4>
                                    </div>
                                </a>
                            </div>
                            <!-- Staples Box End -->

                            <!-- Staples Box Start -->
                            <div class="col-4">
                                <a href="javascript:void(0)">
                                    <div class="staples-box">
                                        <div>
                                            <img
                                                    class="img-fluid"
                                                    src="{% static 'images/product/herbs.png' %}"
                                                    alt="herbs"
                                            />
                                        </div>
                                        <h4>Herbs</h4>
                                    </div>
                                </a>
                            </div>
                            <!-- Staples Box End -->
                        </div>
                    </div>
                </div>
                <!-- Catagories Content End -->
            </div>
        </div>
        <!-- Catagories Section End -->
    </div>
    <!--Main End -->
</div>
<!-- Skeleton loader End -->

{% include 'inner_header.html' %}

<!-- Main Start -->
<main class="main-wrap catagories-wide mb-xxl">
    <!-- Search Box Start -->
    <div class="search-box">
        <i class="iconly-Search icli search"></i>
        <input
                class="form-control"
                type="search"
                placeholder="Search here..."
        />
        <i class="iconly-Voice icli mic"></i>
    </div>
    <!-- Search Box End -->

    <!-- Catagories Section Start -->
    <section class="pb-0">
        <div class="catagories-wrap">
            <!-- Catagories Filter Start -->
            <div
                    class="nav"
                    id="catagories-tab"
                    role="tablist"
                    aria-orientation="vertical"
            >
                {% for category in categories %}
                <div class="nav-link {% if category_id == category.id %}active{% endif %}"
                     id="catagories{{ category.id }}-tab"
                     data-bs-toggle="pill"
                     data-bs-target="#catagories{{ category.id }}"
                     role="tab"
                     aria-controls="catagories{{ category.id }}"
                     aria-selected="true">
                    <div class="content">
                        <img src="{% static category.mediaPaths %}" alt="categories"/>
                        <span class="font-xs title-color">{{ category.category }}</span>
                    </div>
                </div>
                {% endfor %}
            </div>
            <!-- Catagories Filter End -->

            <!-- Catagories Content Start -->
            <div class="tab-content ratio2_1" id="catagories-tabContent">
                <div
                        class="tab-pane fade show active"
                        id="catagories1"
                        role="tabpanel"
                        aria-labelledby="catagories1"
                >
                    <div class="banner-box">
                        <img
                                src="{% static 'images/banner/catagories-banner.jpg' %}"
                                alt="banner"
                                class="bg-img"
                        />
                        <div class="content-box">
                            <h1 class="title-color heading">Season’s exotic Fruits</h1>
                            <p class="content-color font-sm">Upto 20% OFF</p>
                            <a href="{% url 'category_products'  %}" class="btn-solid"
                            >Shop Now</a
                            >
                        </div>
                    </div>

                    <div class="row g-3">
                        <!-- Staples Box Start -->
                        {% for category in sub_categories %}
                        <div class="col-4">
                            <a href="{% url 'category_products' category.id %}">
                                <div class="staples-box">
                                    <div>
                                        <img
                                                class="img-fluid"
                                                src="{% static category.mediaPaths %}"
                                                alt="{{ category.category }}"
                                        />
                                    </div>
                                    <h4>{{ category.category }}</h4>
                                </div>
                            </a>
                        </div>
                        <!-- Staples Box End -->
                        {% endfor %}
                    </div>
                </div>
            </div>
            <!-- Catagories Content End -->
        </div>
    </section>
    <!-- Catagories Section End -->
</main>
<!-- Main End -->

<!-- Footer Start -->
{% include 'footer.html' %}
<!-- Footer End -->
{% include 'footer_links.html' %}
</body>
</html>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        var categoryLinks = document.querySelectorAll('.nav-link');

        categoryLinks.forEach(function(link) {
            link.addEventListener('click', function(event) {
                event.preventDefault();

                var categoryId = this.getAttribute('data-bs-target').replace('#catagories', '');

                // Use AJAX to fetch the content
                fetch(`/category-content/${categoryId}/`)
                    .then(response => response.json())
                    .then(data => {
                        // Update the subcategories content
                        document.querySelector('#catagories-tabContent .row').innerHTML = data.sub_categories_html;

                        // Set the active state for the clicked category
                        categoryLinks.forEach(function(el) {
                            el.classList.remove('active');
                        });
                        this.classList.add('active');
                    })
                    .catch(error => console.error('Error fetching content:', error));
            });
        });
    });
</script>

